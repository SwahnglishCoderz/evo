<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{% block title %}{% endblock %}</title>
  <meta name="description" content="description here">
  <meta name="keywords" content="keywords,here">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <!--    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css"/>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js" integrity="sha256-XF29CBwU1MWLaGEnsELogU6Y6rcc5nCkhhx89nFMIDQ=" crossorigin="anonymous"></script>

  <style>
    .bg-black-alt  {
      background:#191919;
    }
    .text-black-alt  {
      color:#191919;
    }
    .border-black-alt {
      border-color: #191919;
    }
  </style>
  <!--    <script src="https://cdn.tailwindcss.com"></script>-->
  <script src="/js/tailwind_cdn.js"></script>

</head>

<body class="font-sans leading-normal tracking-normal">

<div class="flex items-stretch bg-gray-300">
  {% if current_user %}
  <div class="basis-1/6 text-gray-darker h-screen text-center bg-blue-100 z-10">
    <div class="w-full h-full bg-gray-100 border-r border-gray-900">
      <!-- logo-->
      <div class="py-4 px-6">
        <div class="w-full pl-2 md:pl-0 text-gray-400 hover:text-gray-600 ">
          <a class="text-base xl:text-xl no-underline hover:no-underline font-bold" {% if current_user %} href="/dashboard/index"{% else %} href="/"{% endif %}>
            <i class="fas fa-snowflake mx-auto px-auto"></i> evo
          </a>
        </div>
      </div>

      <!-- menus-->
      <h3 class="mx-6 mb-2 mt-3 text-xs text-gray-400 uppercase tracking-widest">Menu 1</h3>
      <a class="flex items-center px-6 py-1 text-gray-500 hover:text-orange-600 group" href="/">
        <div class="h-5 w-full ml-5 text-gray-400 mr-2 group-hover:text-orange-500">Menu Item 1</div>
      </a>
      <a class="flex items-center px-6 py-1 text-gray-500 hover:text-orange-600 group" href="/">
        <div class="h-5 w-full ml-5 text-gray-400 mr-2 group-hover:text-orange-500">Menu Item 2</div>
      </a>

      <h3 class="mx-6 mb-2 mt-3 text-xs text-gray-400 uppercase tracking-widest">Menu 2</h3>
      <a class="flex items-center px-6 py-1 text-gray-500 hover:text-orange-600 group" href="/">
        <div class="h-5 w-full ml-5 text-gray-400 mr-2 group-hover:text-orange-500">Menu Item 1</div>
      </a>
      <a class="flex items-center px-6 py-1 text-gray-500 hover:text-orange-600 group" href="/">
        <div class="h-5 w-full ml-5 text-gray-400 mr-2 group-hover:text-orange-500">Menu Item 2</div>
      </a>

      <h3 class="mx-6 mb-2 mt-3 text-xs text-gray-400 uppercase tracking-widest">Menu 3</h3>
      <a class="flex items-center px-6 py-1 text-gray-500 hover:text-orange-600 group" href="/">
        <div class="h-5 w-full ml-5 text-gray-400 mr-2 group-hover:text-orange-500">Menu Item 1</div>
      </a>
      <a class="flex items-center px-6 py-1 text-gray-500 hover:text-orange-600 group" href="/">
        <div class="h-5 w-full ml-5 text-gray-400 mr-2 group-hover:text-orange-500">Menu Item 2</div>
      </a>
    </div>
  </div>
  {% endif %}

  <div class="flex-1 text-gray-darker text-center bg-indigo-700">
    <div class="text-gray-darker text-center bg-red-100 px-4 py-2 m-2">
      <nav id="header" class="bg-gray-900 fixed w-full z-5 top-0 shadow">
        <div class="w-full container mx-auto flex flex-wrap items-center mt-0 pt-3 pb-3 md:pb-0">

          <div class="w-1/2 pl-2 md:pl-0">
            <a class="text-gray-100 text-base xl:text-xl no-underline hover:no-underline font-bold"  {% if current_user %} href="/dashboard/index"{% else %} href="/"{% endif %}>
              <i class="fas fa-snowflake text-blue-400 pr-3"></i> evo
            </a>
          </div>

          <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block mt-2 lg:mt-0 bg-gray-900 z-20" id="nav-content">
            <ul class="list-reset lg:flex flex-1 items-center px-4 md:px-0">

              {% if current_user %}
              <!-- make it dynamic in the future - menu name, link and icon to come from the database -->
              <!-- how do I make the URLs display as Laravel/Django? - e.g. profile.show instead of /profile/show -->
              <li class="mr-6 my-2 md:my-0">
                <a href="/profile/show" class="block py-1 md:py-3 pl-1 align-middle text-gray-500 no-underline hover:text-gray-100 border-b-2 border-gray-900  hover:border-pink-400">
                  <i class="fas fa-user fa-fw mr-3"></i><span class="pb-1 md:pb-0 text-sm">{{ current_user.name }}</span>
                </a>
              </li>
              <li class="mr-6 my-2 md:my-0">
                <a href="/" class="block py-1 md:py-3 pl-1 align-middle text-gray-500 no-underline hover:text-gray-100 border-b-2 border-gray-900  hover:border-pink-400">
                  <i class="fas fa-bell fa-fw mr-3"></i><span class="pb-1 md:pb-0 text-sm">Notifications</span>
                </a>
              </li>
              <li class="mr-6 my-2">
                <a href="/logout" class="block py-1 md:py-3 pl-1 align-middle text-gray-500 no-underline hover:text-gray-100 border-b-2 border-gray-900  hover:border-pink-400">
                  <i class="fas fa-sign-out-alt fa-fw mr-3"></i><span class="pb-1 md:pb-0 text-sm">Logout</span>
                </a>
              </li>
              {% else %}
              <li class="mr-6 my-2 md:my-0">
                <a href="/" class="block py-1 md:py-3 pl-1 align-middle text-blue-400 no-underline hover:text-gray-100 border-b-2 border-blue-400 hover:border-blue-400">
                  <i class="fas fa-home fa-fw mr-3 text-blue-400"></i><span class="pb-1 md:pb-0 text-sm">Home</span>
                </a>
              </li>
              <li class="mr-6 my-2 md:my-0">
                <a href="/login" class="block py-1 md:py-3 pl-1 align-middle text-gray-500 no-underline hover:text-gray-100 border-b-2 border-gray-900  hover:border-pink-400">
                  <i class="fas fa-tasks fa-fw mr-3"></i><span class="pb-1 md:pb-0 text-sm">Login</span>
                </a>
              </li>
              <li class="mr-6 my-2 md:my-0">
                <a href="/signup/new" class="block py-1 md:py-3 pl-1 align-middle text-gray-500 no-underline hover:text-gray-100 border-b-2 border-gray-900  hover:border-pink-400">
                  <i class="fas fa-tasks fa-fw mr-3"></i><span class="pb-1 md:pb-0 text-sm">Sign Up</span>
                </a>
              </li>
              {% endif %}
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <div class="text-gray-darker text-center bg-yellow-100 px-4 py-2 m-2">
      <!--        &lt;!&ndash;error&ndash;&gt;-->
      <!--        <div class="mt-11 py-9 text-center">-->
      <!--            {% for message in flash_messages %}-->
      <!--            <div class="p-8 lg:w-1/2 mx-auto">-->
      <!--                <div class="p-4 text-{{ message.color }}-900 bg-{{ message.color }}-100 border border-{{ message.color }}-200 border-b-{{ message.color }}-400 rounded-md">-->
      <!--                    <div class="flex justify-between flex-wrap">-->
      <!--                        <div class="w-0 flex-1 flex">-->
      <!--                            <div class="mr-3 pt-1">-->
      <!--                                <svg width="26" height="26" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">-->
      <!--                                    <path d="M14.1667 17h-3.3334c-.5 0-.8333-.3146-.8333-.7865 0-.472.3333-.7865.8333-.7865H11.5c.0833 0 .1667-.0787.1667-.1573v-3.5394c0-.0786-.0834-.1573-.1667-.1573h-.6667c-.5 0-.8333-.3146-.8333-.7865S10.3333 10 10.8333 10h.8334c.9166 0 1.6666.7079 1.6666 1.573v3.7753c0 .0787.0834.1573.1667.1573h.6667c.5 0 .8333.3146.8333.7865 0 .472-.3333.7079-.8333.7079zM12.3 6c.6933 0 1.3.6067 1.3 1.3s-.52 1.3-1.3 1.3S11 7.9933 11 7.3 11.6067 6 12.3 6zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2"></path>-->
      <!--                                </svg>-->
      <!--                            </div>-->
      <!--                            <div>-->
      <!--                                <h4 class="text-md leading-6 font-medium uppercase">-->
      <!--                                    {{ message.type }}-->
      <!--                                </h4>-->
      <!--                                <p class="text-sm">-->
      <!--                                    {{ message.body }}-->
      <!--                                </p>-->
      <!--                            </div>-->
      <!--                        </div>-->
      <!--                    </div>-->
      <!--                </div>-->
      <!--            </div>-->
      <!--            {% endfor %}-->
      <!--        </div>-->

      <!--        &lt;!&ndash;body&ndash;&gt;-->
      <!--        <div>-->
      <!--            {% block body %} {% endblock %}-->
      <!--        </div>-->

      <!--        &lt;!&ndash;    footer&ndash;&gt;-->
    </div>

    <div class="text-gray-darker text-center bg-green-100 px-4 py-2 m-2">
      <div class="py-32 relative bottom-0 text-center">
        {% block footer %} {% endblock %}
        <footer class="bg-gray-300 object-cover text-center fixed inset-x-0 bottom-0 p-4">
          <div class="container max-w-md mx-auto flex py-2">
            <div class="w-full mx-auto flex flex-wrap">
              <div class="w-1/2 pl-2 md:pl-0">
                <a class="text-blue-900 text-base xl:text-xl no-underline hover:no-underline font-bold"  href="/">
                  <i class="fas fa-snowflake text-blue-900 pr-3"></i> evo
                </a>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
  </div>
</div>

<script>
  /*Toggle dropdown list*/
  /*https://gist.github.com/slavapas/593e8e50cf4cc16ac972afcbad4f70c8*/

  var userMenuDiv = document.getElementById("userMenu");
  var userMenu = document.getElementById("userButton");
  var navMenuDiv = document.getElementById("nav-content");
  var navMenu = document.getElementById("nav-toggle");

  document.onclick = check;

  function check(e){
    var target = (e && e.target) || (event && event.srcElement);

    //User Menu
    if (!checkParent(target, userMenuDiv)) {
      // click NOT on the menu
      if (checkParent(target, userMenu)) {
        // click on the link
        if (userMenuDiv.classList.contains("invisible")) {
          userMenuDiv.classList.remove("invisible");
        } else {userMenuDiv.classList.add("invisible");}
      } else {
        // click both outside link and outside menu, hide menu
        userMenuDiv.classList.add("invisible");
      }
    }

    //Nav Menu
    if (!checkParent(target, navMenuDiv)) {
      // click NOT on the menu
      if (checkParent(target, navMenu)) {
        // click on the link
        if (navMenuDiv.classList.contains("hidden")) {
          navMenuDiv.classList.remove("hidden");
        } else {navMenuDiv.classList.add("hidden");}
      } else {
        // click both outside link and outside menu, hide menu
        navMenuDiv.classList.add("hidden");
      }
    }

  }

  function checkParent(t, elm) {
    while(t.parentNode) {
      if( t == elm ) {return true;}
      t = t.parentNode;
    }
    return false;
  }


</script>
</body>

</html>

